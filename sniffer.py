import socket

# host to listen on
HOST = '192.168.1.130'
while True:
	try:
		socket_protocol = socket.IPPROTO_ICMP
		sniffer = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket_protocol)
		sniffer.bind((HOST, 0))

		sniffer.setsockopt(socket.IPPROTO_IP, socket.IP_HDRINCL, 1)

		#Print packets
		print(sniffer.recvfrom(65565))
	except KeyboardInterrupt:
		break
